[TOC]

### 0/1 分数规划模型

​		0/1 分数规划模型是指，给定整数 $a_1 ,a_2,...,a_n$  以及 $b_1,b_2,...,b_n$ ，求一组解  $x_i$ $(1≤i≤n,x_i=0或1)$ ，使其最大化：
$$
\frac {\sum_{i=1}^{n}a_i*x_i}{\sum_{i=1}^{n}b_i*x_i}
$$
通俗来说，就是给定  $n$  对整数  $a_i,b_i$ ，从中选出若干对，是选出的数对的  $a$  之和与 $b$ 之和的商最大

​		不妨随便猜测一个值 $mid$  ，然后考虑这样一个问题：是否存在一组解 $\{x_i,x_2,...,x_n\}$ 满足              $\sum_{i=1}^{n}(a_i-mid*b_i)*x_i≥0$

​		1：如果**存在**一组解，使得 $\sum_{i=1}^{n}(a_i-mid*b_i)*x_i≥0$，那么变形得 $(\sum_{i=1}^{n}a_i*x_i)-mid*(\sum_{i=1}^{n}b_i*x_i)≥0$ ，进一步得知：
$$
存在 \{x_i,x_2,...,x_n\} ,使得  \frac {\sum_{i=1}^{n}a_i*x_i}{\sum_{i=1}^{n}b_i*x_i}≥mid
$$
也就是说， **$mid$ 比我们求得最大值要小。**

​		2：如果对于**任意**一组解，都有  $\sum_{i=1}^{n}(a_i-mid*b_i)*x_i<0$ ，那么同理可知：
$$
任意的 \{x_i,x_2,...,x_n\} ,使得  \frac {\sum_{i=1}^{n}a_i*x_i}{\sum_{i=1}^{n}b_i*x_i}<mid
$$
也就是说， **$mid$ 比我们求得最大值要大**。

​		这与 ”二分答案“ 的情形非常相似。虽然最终答案是未知的，但是如果我们猜测一个值 $mid$ ,就能通过判定 “是否存在一个解满足 $\sum_{i=1}^{n}(a_i-mid*b_i)*x_i≥0$ ”，得到 $mid$ 应该变得更大还是更小。也就是说，这个 $mid$ 关于 “解的存在性”  具有 “单调性”。

**如何判定上述式子是否成立** 

​		如何判定 “是否存在一组解满足 $\sum_{i=1}^{n}(a_i-mid*b_i)*x_i≥0$ ”呢？ 我们考虑这样一个问题：        给定整数 $a_1,a_2,...,a_n$ , $b_1,b_2,...,b_n$ 以及 $mid$,求一组解  $x_i(1≤i≤n,x_i=0或1)$ ，使得                 $\sum_{i=1}^{n}(a_i-mid*b_i)*x_i$ 最大化。显然，**只需要判定这个最大值是否非负即可**。

​		这个判定问题比原问题简单的多——因为 $a_i-mid*b_i$ 可以直接被计算出来。这就**等价于从 $n$ 个数里选出若干个，使得它们的和最大**，把所有的正数加起来就可以了。 

若 $a_i-mid*b_i<0$ ，就令 $x_i=0$,否则 $x_i=1$ 。

一次判断最多只用 $O(n)$ 的遍历

二分的复杂度约为 $O(logn)$
所以整体的渐进复杂度 $O(nlogn)$

**0/1 分数规划问题的求解：**

​		综上所述，我们可以二分答案（实数）。当二分的值为 $mid$ 时，我们就计算
$\sum_{i=1}^{n}(a_i-mid*b_i)*x_i$ 的最大值，检查**最大值是否非负**。若非负，则令 $l = mid$，否则令           $r = mid$。当二分停止时，就得到了 0/1 分数规划问题的解。

对于 0/1 分数规划问题还有一种求解方法—— Dinkemidbach 迭代法。

习题：

#### 234：放弃测试

https://www.acwing.com/problem/content/236/







